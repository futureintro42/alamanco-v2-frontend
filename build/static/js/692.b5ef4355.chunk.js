"use strict";(self.webpackChunkfront_end=self.webpackChunkfront_end||[]).push([[692],{5705:(e,n,t)=>{t.d(n,{A:()=>h});t(5043);var i=t(3536),a=t(8911),r=t(6446),o=t(1656),s=t(6674),l=t(4535),d=t(310),c=t(579);const u=.5,p=(0,l.Ay)(o.zh)((e=>{let{theme:n}=e;return{"& .MuiDataGrid-columnHeader":{backgroundColor:(0,d.X4)(n.palette.primary.main,u)},"& .MuiDataGrid-footerContainer":{backgroundColor:(0,d.X4)(n.palette.primary.main,u)},"& .MuiDataGrid-columnHeaders":{minHeight:0,maxHeight:0},"& .MuiDataGrid-columnHeaderTitle":{overflow:"visible"},"& .MuiDataGrid-cellContent":{whiteSpace:"break-spaces",wordBreak:"break-all"},["& .".concat(s.x.row,".odd")]:{backgroundColor:(0,d.X4)(n.palette.secondary.light,.2),"&:hover, &.Mui-hovered":{backgroundColor:(0,d.X4)(n.palette.primary.main,.2),"@media (hover: none)":{backgroundColor:"transparent"}},"&.Mui-selected":{backgroundColor:(0,d.X4)(n.palette.primary.main,u+n.palette.action.selectedOpacity),"&:hover, &.Mui-hovered":{backgroundColor:(0,d.X4)(n.palette.primary.main,u+n.palette.action.selectedOpacity+n.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:(0,d.X4)(n.palette.primary.main,u+n.palette.action.selectedOpacity)}}}},["& .".concat(s.x.row,".even")]:{backgroundColor:(0,d.X4)(n.palette.secondary.dark,.2),"&:hover, &.Mui-hovered":{backgroundColor:(0,d.X4)(n.palette.primary.main,.2),"@media (hover: none)":{backgroundColor:"transparent"}},"&.Mui-selected":{backgroundColor:(0,d.X4)(n.palette.primary.main,u+n.palette.action.selectedOpacity),"&:hover, &.Mui-hovered":{backgroundColor:(0,d.X4)(n.palette.primary.main,u+n.palette.action.selectedOpacity+n.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:(0,d.X4)(n.palette.primary.main,u+n.palette.action.selectedOpacity)}}}}}})),m=()=>(0,c.jsx)(a.A,{height:"100%",alignItems:"center",justifyContent:"center",children:"No Data Available"}),h=e=>{const{rows:n,columns:t,setSelectedRows:a,css:o={},minHeight:s=130,pageSize:l=10,checkboxSelection:d=!0,hideFooterPagination:u=!1,hideFooter:h=!1,autoHeight:g=!0,...v}=e,x=(0,i.isEmpty)(o)?{minHeight:s}:o;return(0,c.jsx)(r.A,{sx:{...x,width:"100%",display:"flex"},children:(0,c.jsx)(p,{rows:n,columns:t,pageSize:l,autoHeight:g,rowsPerPageOptions:[l],checkboxSelection:d,hideFooter:h,hideFooterPagination:u,disableColumnSelector:!0,disableSelectionOnClick:!0,disableColumnMenu:!0,disableColumnFilter:!0,rowHeight:50,experimentalFeatures:{newEditingApi:!1},components:{NoRowsOverlay:m},getRowClassName:e=>e.indexRelativeToCurrentPage%2===0?"even":"odd",onSelectionModelChange:e=>{const n=new Set(e);a(n)},sx:{"&.MuiDataGrid-virtualScrollerContent--overflowed":{overflow:"visible",width:"100%"},"& .MuiDataGrid-columnHeader:last-child .MuiDataGrid-columnSeparator":{display:"none"}},...v})})}},4103:(e,n,t)=>{t.d(n,{A:()=>d});t(5043);var i=t(5475),a=t(6446),r=t(5865),o=t(1906),s=t(9336),l=t(579);const d=e=>{let{title:n,url:t,buttonTitle:d}=e;return(0,l.jsxs)(a.A,{sx:{width:"100%",mb:2,mt:2},children:[(0,l.jsxs)(a.A,{sx:{display:"flex",flexDirection:"row",justifyContent:"space-between",width:"100%"},children:[(0,l.jsx)(r.A,{variant:"h1",component:"h1",children:n}),d&&(0,l.jsx)(i.N_,{to:t,children:(0,l.jsx)(o.A,{variant:"contained",children:d})})]}),(0,l.jsx)(s.A,{variant:"fullWidth",sx:{width:"100%",mt:1,mb:1,borderBottomWidth:2,borderColor:e=>e.palette.grey[400]}})]})}},5989:(e,n,t)=>{t.d(n,{A:()=>m});t(5043);var i=t(4535),a=t(35),r=t(6600),o=t(5316),s=t(9347),l=t(7392),d=t(4802),c=t(9456),u=t(579);const p=(0,i.Ay)(a.A)((e=>{let{theme:n}=e;return{"& .MuiDialogContent-root":{padding:n.spacing(2)},"& .MuiDialogActions-root":{padding:n.spacing(1)}}})),m=()=>{const e=(0,c.d4)((e=>e.modal)),{isOpen:n=!1,title:t="",hasClosedIcon:i=!0,handleClose:a=(()=>{}),bodyContent:m="",modalActions:h=""}=e;return(0,u.jsxs)(p,{onClose:a,"aria-labelledby":"customized-dialog-title",open:n,children:[(0,u.jsx)(r.A,{sx:{m:0,p:2},id:"customized-dialog-title",children:t}),i&&(0,u.jsx)(l.A,{"aria-label":"close",onClick:a,sx:{position:"absolute",right:8,top:8,color:e=>e.palette.grey[500]},children:(0,u.jsx)(d.A,{})}),(0,u.jsx)(o.A,{dividers:!0,sx:{minWidth:"350px"},children:m}),(0,u.jsx)(s.A,{children:h})]})}},6692:(e,n,t)=>{t.r(n),t.d(n,{default:()=>M});var i=t(5043),a=t(6410),r=t(1881),o=t(9456),s=t(5865),l=t(1906),d=t(8903),c=t(2671),u=t(4103),p=t(5475),m=t(6446),h=t(8911),g=t(9042),v=t(7254),x=t(7260),y=t(3513),A=t(3159),f=t(7343),C=t(5989),b=t(5705),j=t(579);const w=e=>{let{rows:n,severity:t,message:i,updateStatus:a,paginationModel:r,onDeleteHandler:o}=e;const s=[{field:"id",headerName:"Certificate No",minWidth:150,flex:1,filterable:!1,editable:!1},{field:"user",headerName:"Created By",minWidth:140,flex:1},{field:"business_name",headerName:"Business name",minWidth:140,flex:1},{field:"inspection_date",headerName:"Inspection date",minWidth:150,flex:1,valueFormatter:e=>(0,f.Yq)(e.value)},{field:"inspection_next_date",headerName:"Inspection next date",minWidth:200,flex:1,valueFormatter:e=>(0,f.Yq)(e.value)},{field:"inspector_name",headerName:"inspector name",minWidth:150,flex:1},{field:"status",headerName:"Status(In-Active/Active)",minWidth:200,flex:1,renderCell:e=>{const{value:n,id:t,row:{action:{changeStatus:i}}}=e,r="INACTIVE"!==n;return(0,j.jsx)(h.A,{direction:"row",spacing:1,alignItems:"center",children:(0,j.jsx)(g.A,{inputProps:{"aria-label":"Switch status"},checked:r,onChange:()=>a(t),disabled:!i})})}},{field:"action",type:"actions",headerName:"Action",minWidth:100,flex:1,getActions:e=>{var n;const t=[],{view:i,edit:a,remove:r}=null===(n=e.row)||void 0===n?void 0:n.action;return i&&t.push((0,j.jsx)("a",{href:"/certificate/view/".concat(e.row._id),target:"__blank",children:(0,j.jsx)(x.A,{sx:{fontSize:25}})})),a&&t.push((0,j.jsx)(p.N_,{to:"/certificate/edit/".concat(e.row._id),children:(0,j.jsx)(A.A,{sx:{fontSize:25}})})),r&&t.push((0,j.jsx)(y.A,{fontSize:"medium",onClick:()=>o(e.row._id)})),t}}];return(0,j.jsxs)(j.Fragment,{children:[(0,j.jsxs)(m.A,{sx:{height:400,width:"100%"},children:[(0,j.jsx)(d.Ay,{container:!0,spacing:2,children:t&&i&&(0,j.jsx)(d.Ay,{item:!0,xs:12,children:(0,j.jsx)(v.A,{variant:"standard",severity:t,sx:{width:"100%",mt:1},children:i})})}),(0,j.jsx)(b.A,{rows:n,columns:s,initialState:{pagination:{paginationModel:r}},pageSizeOptions:[10],checkboxSelection:!1,disableRowSelectionOnClick:!1})]}),(0,j.jsx)(C.A,{})]})};w.defaultProps={rows:[],paginationModel:{pageSize:10},pageSizeOptions:10,updateStatus:()=>{},onDeleteHandler:()=>{}};const k=w;var S=t(7767),I=t(2010),$=t(9351);const M=()=>{const e=(0,o.wA)(),[n,t]=i.useState(""),[p,m]=i.useState(""),[h,g]=i.useState([]),[v,{loading:x,data:y,error:A}]=(0,a._)(I.$r),[f,{loading:C,error:b,data:w}]=(0,r.n)($.iO),[M,{loading:O,error:_,data:D}]=(0,r.n)($.yJ);i.useEffect((()=>{if(!x&&y&&!A){const{response:e}=y.invoiceList;g(e)}}),[x,y,A,g]);const z=i.useCallback((()=>v()),[v]);i.useEffect((()=>{z()}),[z]),i.useEffect((()=>{if(!C&&!b&&w){const n=w.changeInvoiceStatus;t(n.severity),m(n.message),n.hasError||z(),e((0,S.Mj)())}}),[C,b,w,e,t,m,z]);i.useEffect((()=>{if(!O&&!_&&D){const n=D.removeInvoice;t(n.severity),m(n.message),n.hasError||z(),e((0,S.Mj)())}}),[O,_,D,e,t,m,z]);const E=()=>{e((0,S.Mj)())},J=()=>(0,j.jsx)(s.A,{gutterBottom:!0,children:(0,j.jsx)(s.A,{children:"Are you want to sure?"})}),P=e=>{let{_id:n}=e;return(0,j.jsxs)(j.Fragment,{children:[" ",(0,j.jsx)(l.A,{autoFocus:!0,onClick:()=>(e=>{M({variables:{input:{_id:e}}})})(n),children:"Confirm"}),(0,j.jsx)(l.A,{onClick:()=>E(),children:"Cancel"})]})},H={rows:h,updateStatus:e=>{f({variables:{input:{id:parseInt(e)}}})},onDeleteHandler:n=>{e((0,S.qS)({isOpen:!0,title:"Delete Cartificate",hasClosedIcon:!0,handleClose:E,bodyContent:(0,j.jsx)(J,{}),modalActions:(0,j.jsx)(P,{_id:n})}))},severity:n,message:p,paginationModel:{pageSize:"10"},pageSizeOptions:"10"};return(0,j.jsxs)(j.Fragment,{children:[(0,j.jsx)(d.Ay,{container:!0,spacing:2,sx:{display:"flex",flexDirection:"row",justifyContent:"space-between",alignItems:"center"},children:(0,j.jsx)(u.A,{title:"Certificate List",buttonTitle:"Create Certificate",url:"/certificate/create"})}),x&&!y?(0,j.jsx)(c.A,{}):(0,j.jsx)(k,{...H})]})}},9351:(e,n,t)=>{t.d(n,{G6:()=>j,Hx:()=>A,Tx:()=>b,Ur:()=>C,Zs:()=>w,ab:()=>O,iO:()=>$,lj:()=>M,ox:()=>f,rF:()=>_,tz:()=>S,xt:()=>I,yJ:()=>D,y_:()=>k});var i,a,r,o,s,l,d,c,u,p,m,h,g,v,x=t(7528),y=t(459);const A=(0,y.J1)(i||(i=(0,x.A)(["\n  mutation signup($input: signupInput!) {\n    signup(input: $input) {\n      error {\n        key\n        value\n      }\n      message\n      severity\n    }\n  }\n"]))),f=(0,y.J1)(a||(a=(0,x.A)(["\n  mutation changeStatus($input: idInput!) {\n    changeStatus(input: $input) {\n      hasError\n      message\n      severity\n    }\n  }\n"]))),C=(0,y.J1)(r||(r=(0,x.A)(["\n  mutation removeUser($input: idInput!) {\n    removeUser(input: $input) {\n      hasError\n      message\n      severity\n    }\n  }\n"]))),b=(0,y.J1)(o||(o=(0,x.A)(["\n  mutation createInvoice($input: invoiceInput!) {\n    createInvoice(input: $input) {\n      error {\n        key\n        value\n      }\n      message\n      severity\n    }\n  }\n"]))),j=(0,y.J1)(s||(s=(0,x.A)(["\n  mutation updateInvoice($input: invoiceInput!) {\n    updateInvoice(input: $input) {\n      error {\n        key\n        value\n      }\n      message\n      severity\n    }\n  }\n"]))),w=(0,y.J1)(l||(l=(0,x.A)(["\n  mutation setPassword($input: setPasswordInput!) {\n    setPassword(input: $input) {\n      error {\n        key\n        value\n      }\n      message\n      severity\n    }\n  }\n"]))),k=(0,y.J1)(d||(d=(0,x.A)(["\n  mutation createCard($input: cardInput!) {\n    createCard(input: $input) {\n      error {\n        key\n        value\n      }\n      message\n      severity\n    }\n  }\n"]))),S=(0,y.J1)(c||(c=(0,x.A)(["\n  mutation updateCard($input: cardInput!) {\n    updateCard(input: $input) {\n      error {\n        key\n        value\n      }\n      message\n      severity\n    }\n  }\n"]))),I=(0,y.J1)(u||(u=(0,x.A)(["\n  mutation changeCardStatus($input: idInput!) {\n    changeCardStatus(input: $input) {\n      hasError\n      message\n      severity\n    }\n  }\n"]))),$=(0,y.J1)(p||(p=(0,x.A)(["\n  mutation changeInvoiceStatus($input: idInput!) {\n    changeInvoiceStatus(input: $input) {\n      hasError\n      message\n      severity\n    }\n  }\n"]))),M=(0,y.J1)(m||(m=(0,x.A)(["\n  mutation changePassword($input: changePasswordInput!) {\n    changePassword(input: $input) {\n      error {\n        key\n        value\n      }\n      message\n      severity\n    }\n  }\n"]))),O=(0,y.J1)(h||(h=(0,x.A)(["\n  mutation updateProfile($input: updateProfileInput!) {\n    updateProfile(input: $input) {\n      error {\n        key\n        value\n      }\n      message\n      severity\n    }\n  }\n"]))),_=(0,y.J1)(g||(g=(0,x.A)(["\n  mutation removeCard($input: objIdInput!) {\n    removeCard(input: $input) {\n      hasError\n      message\n      severity\n    }\n  }\n"]))),D=(0,y.J1)(v||(v=(0,x.A)(["\n  mutation removeInvoice($input: objIdInput!) {\n    removeInvoice(input: $input) {\n      hasError\n      message\n      severity\n    }\n  }\n"])))},3159:(e,n,t)=>{var i=t(4994);n.A=void 0;var a=i(t(39)),r=t(579);n.A=(0,a.default)((0,r.jsx)("path",{d:"M3 17.25V21h3.75L17.81 9.94l-3.75-3.75zM20.71 7.04c.39-.39.39-1.02 0-1.41l-2.34-2.34a.9959.9959 0 0 0-1.41 0l-1.83 1.83 3.75 3.75z"}),"Edit")}}]);
//# sourceMappingURL=692.b5ef4355.chunk.js.map
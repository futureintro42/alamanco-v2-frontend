"use strict";(self.webpackChunkfront_end=self.webpackChunkfront_end||[]).push([[302],{3302:(e,r,a)=>{a.r(r),a.d(r,{default:()=>g});var s=a(5043),i=a(8903),n=a(3216),t=a(9456),o=a(4858),u=a(8403),d=a(6410),c=a(722),m=a(9252),l=a(2110),h=a(6494),p=a(6446),x=a(1045),q=a(5865),f=a(7254),j=a(3193),C=a(9190),b=a(4050),w=a(1673),Y=a(1906),y=a(8446),v=a(6325),A=a(2010),O=a(903),M=a(7343),P=a(579);const _=()=>{var e,r;const a=(0,n.Zp)(),[t,_]=s.useState("error"),[g,k]=s.useState(""),[S,E]=s.useState(""),[I,$]=s.useState("Please click on I'm not a robot."),[L,D]=s.useState(!1),[N,{loading:Z,error:z,data:R}]=(0,d._)(A._q),{register:U,handleSubmit:B,setError:K,formState:{errors:Q}}=(0,o.mN)({resolver:(0,u.t)(O.E9)}),F=()=>{E(""),$("Please click on I'm not a robot")};return s.useEffect((()=>{if(!Z&&!z&&R){const e=R.getTokenToSetPassword;_(e.severity),k(e.message),(0,M.ft)(e.error,K),D(!1),!e.error&&e.severity.includes("success")&&(a("/set-password/".concat(e.token)),a(0))}}),[Z,z,R,K,a,D]),(0,P.jsx)(m.A,{maxWidth:!1,sx:{maxWidth:"600px"},children:(0,P.jsx)(l.A,{sx:{mt:10,border:1,borderColor:"primary.dark"},children:(0,P.jsx)(h.A,{children:(0,P.jsxs)(p.A,{sx:{display:"flex",flexDirection:"column",alignItems:"center"},children:[(0,P.jsx)(x.A,{sx:{bgcolor:"secondary.main"},children:(0,P.jsx)(v.A,{})}),(0,P.jsx)(q.A,{component:"h1",variant:"h2",children:"Forgot Password"}),(0,P.jsxs)(p.A,{component:"form",onSubmit:B(((e,r)=>{r.preventDefault(),D(!0),S?N({variables:{input:e}}):($("Please click on I'm not a robot"),D(!1))})),noValidate:!0,sx:{mt:1},autoComplete:"off",children:[t&&g&&(0,P.jsx)(f.A,{variant:"standard",severity:t,sx:{width:"100%",mt:1},children:g}),(0,P.jsxs)(j.A,{variant:"outlined",autoComplete:"off",margin:"normal",sx:{width:"100%"},children:[(0,P.jsx)(C.A,{htmlFor:"email","aria-label":"Email",required:!0,children:"Email"}),(0,P.jsx)(b.A,{id:"email",name:"email",type:"email",autoComplete:"off",label:"Username","aria-label":"email",sx:{width:"100%"},"aria-describedby":"email-error",error:!(null===Q||void 0===Q||null===(e=Q.email)||void 0===e||!e.message),...U("email")}),(null===Q||void 0===Q?void 0:Q.email)&&(0,P.jsx)(w.A,{error:!0,id:"email-error",children:null===Q||void 0===Q||null===(r=Q.email)||void 0===r?void 0:r.message})]}),(0,P.jsxs)(j.A,{variant:"outlined",autoComplete:"off",margin:"normal",sx:{width:"100%"},children:[(0,P.jsx)(c.A,{sitekey:"".concat("6LfQeaYoAAAAAMZaQJxuVKuB_IrcLEwzcmx6VbqX"),onChange:e=>(E(e||""),void $("")),onExpired:()=>F(),onErrored:()=>F()}),I&&(0,P.jsx)(f.A,{variant:"standard",severity:"error",sx:{width:"100%",mt:1},children:I})]}),(0,P.jsx)(Y.A,{type:"submit",variant:"contained",sx:{mt:3,mb:2,width:"100%"},"aria-label":"forgot password button",disabled:L,children:"Submit"}),(0,P.jsxs)(i.Ay,{container:!0,children:[(0,P.jsx)(i.Ay,{item:!0,xs:12,sm:6,children:(0,P.jsx)(y.A,{href:"/sign-up",variant:"body1","aria-label":"signup link",children:"Create Account?"})}),(0,P.jsx)(i.Ay,{item:!0,xs:12,sm:6,sx:{display:"flex",justifyContent:"flex-end"},children:(0,P.jsx)(y.A,{href:"/login",variant:"body1","aria-label":"Login link",children:"Already have a account"})})]})]})]})})})})},g=()=>{const e=(0,n.Zp)(),r=(0,t.d4)((e=>e.auth)),{isLoggedIn:a}=r;return(0,s.useEffect)((()=>{a&&e("/dashboard")}),[a,e]),(0,P.jsx)(i.Ay,{container:!0,spacing:3,children:(0,P.jsx)(i.Ay,{item:!0,xs:12,children:(0,P.jsx)(_,{})})})}},903:(e,r,a)=>{a.d(r,{Cx:()=>c,E9:()=>t,O5:()=>i,V8:()=>o,X5:()=>n,jK:()=>u,nM:()=>m,uk:()=>d});var s=a(899);const i=s.Ik().shape({first_name:s.Yj().min(3).max(150).required("Please enter first name"),last_name:s.Yj().min(3).max(150).required("Please enter last name"),email:s.Yj().max(150).email("Please indicate a valid email address.").required("Please enter email address."),password:s.Yj().required("Please Enter your password").min(6,"Your password must be longer than 6 characters.").max(18).matches(/^(?=.{6,})/,"Must Contain 6 Characters").matches(/^(?=.*[a-z])(?=.*[A-Z])/,"Must Contain One Uppercase, One Lowercase").matches(/^(?=.*[!@#\$%\^&\*])/,"Must Contain One Special Case Character").matches(/^(?=.{6,20}$)\D*\d/,"Must Contain One Number"),confirmPassword:s.Yj().required("Please Enter your password").min(6,"Your password must be longer than 6 characters.").max(18).matches(/^(?=.{6,})/,"Must Contain 6 Characters").matches(/^(?=.*[a-z])(?=.*[A-Z])/,"Must Contain One Uppercase, One Lowercase").matches(/^(?=.*[!@#\$%\^&\*])/,"Must Contain One Special Case Character").matches(/^(?=.{6,20}$)\D*\d/,"Must Contain One Number").oneOf([s.KR("password"),null],"Passwords don't match!").required("Please enter confirm password")}),n=s.Ik().shape({email:s.Yj().email("Must be a valid email").max(150).required("Email is required"),password:s.Yj().required("Please enter password")}).required(),t=s.Ik().shape({email:s.Yj().email("Must be a valid email").max(150).required("Email is required")}).required(),o=s.Ik().shape({password:s.Yj().required("Please Enter your password").min(6,"Your password must be longer than 6 characters.").max(18).matches(/^(?=.{6,})/,"Must Contain 6 Characters").matches(/^(?=.*[a-z])(?=.*[A-Z])/,"Must Contain One Uppercase, One Lowercase").matches(/^(?=.*[!@#\$%\^&\*])/,"Must Contain One Special Case Character").matches(/^(?=.{6,20}$)\D*\d/,"Must Contain One Number"),confirmPassword:s.Yj().required("Please Enter your password").min(6,"Your password must be longer than 6 characters.").max(18).matches(/^(?=.{6,})/,"Must Contain 6 Characters").matches(/^(?=.*[a-z])(?=.*[A-Z])/,"Must Contain One Uppercase, One Lowercase").matches(/^(?=.*[!@#\$%\^&\*])/,"Must Contain One Special Case Character").matches(/^(?=.{6,20}$)\D*\d/,"Must Contain One Number").oneOf([s.KR("password"),null],"Passwords don't match!").required("Please enter confirm password")}),u=s.Ik().shape({sticker_number:s.Yj().max(30).required("Strike number is required"),reference_number:s.Yj().max(30).required("Reference Number is required"),equipment_type:s.Yj().max(30).required("Equipment type is required"),equipment_description:s.Yj().max(200).required("Equipment description is required"),make:s.Yj().max(150).required("Make is required"),serial_number:s.Yj().max(100).required("Serial number is required"),year_of_manufacturing:s.Yj().max(30).required("Year of manufacturing is required"),plant_number:s.Yj().max(100).required("Plant number is required"),location_of_equipment:s.Yj().max(30).required("Location of the equipment is required"),owner_business_name:s.Yj().max(150).required("Owner's Business name is required"),owner_business_address:s.Yj().max(200).required("Owner's Business address is required"),details:s.Yj().max(200).required("details is required"),standard_specification:s.Yj().max(200).required("Standard Specification is required"),business_name:s.Yj().max(100).required("Business name is required"),business_address:s.Yj().max(200).required("Business address is required"),inspection_date:s.Yj().max(30).required("Inspection date is required"),inspection_next_date:s.Yj().max(30).required("Inspection next date is required"),inspector_name:s.Yj().max(100).required("Inspector's name is required"),resultStatus:s.Yj().required("resultStatus is required")}),d=s.Ik().shape({name:s.Yj().max(150).required("Card holder name is required"),iqama_number:s.Yj().max(100).required("Iqama Number is required"),issue_date:s.Yj().max(30).required("Issue date is required"),expiry_date:s.Yj().max(30).required("Expiry date is required"),certified_as:s.Yj().max(100).required("Certified as is required"),company:s.Yj().max(100).required("Company as is required"),examiner:s.Yj().max(100).required("Examiner as is required"),profile_pic:s.Yj().nullable().notRequired()}),c=s.Ik().shape({first_name:s.Yj().min(3).max(150).required("Please enter first name"),last_name:s.Yj().min(3).max(150).required("Please enter last name"),role:s.zM().nullable().notRequired()}),m=s.Ik().shape({oldPassword:s.Yj().required("Please Enter your old password").min(6,"Your password must be longer than 6 characters.").max(18).matches(/^(?=.{6,})/,"Must Contain 6 Characters").matches(/^(?=.*[a-z])(?=.*[A-Z])/,"Must Contain One Uppercase, One Lowercase").matches(/^(?=.*[!@#\$%\^&\*])/,"Must Contain One Special Case Character").matches(/^(?=.{6,20}$)\D*\d/,"Must Contain One Number"),password:s.Yj().required("Please Enter your password").min(6,"Your password must be longer than 6 characters.").max(18).matches(/^(?=.{6,})/,"Must Contain 6 Characters").matches(/^(?=.*[a-z])(?=.*[A-Z])/,"Must Contain One Uppercase, One Lowercase").matches(/^(?=.*[!@#\$%\^&\*])/,"Must Contain One Special Case Character").matches(/^(?=.{6,20}$)\D*\d/,"Must Contain One Number"),confirmPassword:s.Yj().required("Please Enter your password").min(6,"Your password must be longer than 6 characters.").max(18).matches(/^(?=.{6,})/,"Must Contain 6 Characters").matches(/^(?=.*[a-z])(?=.*[A-Z])/,"Must Contain One Uppercase, One Lowercase").matches(/^(?=.*[!@#\$%\^&\*])/,"Must Contain One Special Case Character").matches(/^(?=.{6,20}$)\D*\d/,"Must Contain One Number").oneOf([s.KR("password"),null],"Passwords don't match!").required("Please enter confirm password")})},6410:(e,r,a)=>{a.d(r,{_:()=>d});var s=a(6326),i=a(48),n=a(2277),t=a(8250),o=a(5190),u=["refetch","reobserve","fetchMore","updateQuery","startPolling","subscribeToMore"];function d(e,r){var a,d=i.useRef(),c=i.useRef(),m=i.useRef(),l=(0,n.l)(r,d.current||{}),h=null!==(a=null===l||void 0===l?void 0:l.query)&&void 0!==a?a:e;c.current=r,m.current=h;var p=(0,t.k)((0,o.m)(r&&r.client),h),x=p.useQuery((0,s.Cl)((0,s.Cl)({},l),{skip:!d.current})),q=x.observable.options.initialFetchPolicy||p.getDefaultFetchPolicy(),f=Object.assign(x,{called:!!d.current}),j=i.useMemo((function(){for(var e={},r=function(r){var a=f[r];e[r]=function(){return d.current||(d.current=Object.create(null),p.forceUpdateState()),a.apply(this,arguments)}},a=0,s=u;a<s.length;a++){r(s[a])}return e}),[]);Object.assign(f,j);var C=i.useCallback((function(e){d.current=e?(0,s.Cl)((0,s.Cl)({},e),{fetchPolicy:e.fetchPolicy||q}):{fetchPolicy:q};var r=(0,n.l)(c.current,(0,s.Cl)({query:m.current},d.current)),a=p.executeQuery((0,s.Cl)((0,s.Cl)({},r),{skip:!1})).then((function(e){return Object.assign(e,j)}));return a.catch((function(){})),a}),[]);return[C,f]}}}]);
//# sourceMappingURL=302.6e3bdfd7.chunk.js.map
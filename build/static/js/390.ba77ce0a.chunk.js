"use strict";(self.webpackChunkfront_end=self.webpackChunkfront_end||[]).push([[390],{6390:(e,r,n)=>{n.r(r),n.d(r,{default:()=>O});var a=n(8903),s=n(5043),t=n(3216),i=n(722),o=n(4858),d=n(8403),u=n(1881),l=n(9252),c=n(2110),m=n(6494),p=n(6446),h=n(1045),v=n(5865),x=n(7254),w=n(3193),f=n(9190),j=n(4050),q=n(1787),b=n(7392),A=n(1673),C=n(1906),g=n(6325),P=n(5940),y=n(3632),M=n(9351),I=n(903),Y=n(7343),$=n(579);const E=()=>{var e,r,n,a,E,O;const S=(0,t.Zp)(),[k,_]=s.useState(!1),[L,N]=s.useState(!1),[z,J]=s.useState(!1),[D,R]=s.useState("error"),[U,Z]=s.useState(""),[K,F]=s.useState(!1),[V,B]=s.useState(""),[T,Q]=s.useState("Please click on I'm not a robot."),[G,{loading:H,error:X,data:W}]=(0,u.n)(M.lj),{register:ee,handleSubmit:re,setError:ne,resetField:ae,formState:{errors:se}}=(0,o.mN)({resolver:(0,d.t)(I.nM)}),te=()=>{B(""),Q("Please click on I'm not a robot")},ie=e=>{e.preventDefault()};return s.useEffect((()=>{if(!H&&!X&&W){const e=W.changePassword;R(e.severity),Z(e.message),(0,Y.ft)(e.error,ne),!e.error&&e.severity.includes("success")&&(ae("oldPassword"),ae("password"),ae("confirmPassword")),F(!1)}}),[H,X,W,ne,S,F,ae]),(0,$.jsx)(l.A,{sx:{maxWidth:{xs:"100%",sm:"600px"}},children:(0,$.jsx)(c.A,{sx:{mt:10,border:1,borderColor:"primary.dark"},children:(0,$.jsx)(m.A,{children:(0,$.jsxs)(p.A,{sx:{display:"flex",flexDirection:"column",alignItems:"center"},children:[(0,$.jsx)(h.A,{sx:{bgcolor:"secondary.main"},children:(0,$.jsx)(g.A,{})}),(0,$.jsx)(v.A,{component:"h2",variant:"h2",children:"Change Password"}),(0,$.jsxs)(p.A,{component:"form",onSubmit:re(((e,r)=>{r.preventDefault(),F(!0),V?G({variables:{input:e}}):(Q("Please click on I'm not a robot"),F(!1))})),noValidate:!0,sx:{mt:1},autoComplete:"off",children:[D&&U&&(0,$.jsx)(x.A,{variant:"standard",severity:D,sx:{width:"100%",mt:1},children:U}),(0,$.jsxs)(w.A,{variant:"outlined",autoComplete:"off",margin:"normal",sx:{width:"100%"},children:[(0,$.jsx)(f.A,{htmlFor:"oldPassword","aria-label":"oldPassword",required:!0,children:"Old Password"}),(0,$.jsx)(j.A,{id:"oldPassword",type:k?"text":"password",endAdornment:(0,$.jsx)(q.A,{position:"end",children:(0,$.jsx)(b.A,{"aria-label":"toggle password visibility",onClick:()=>_((e=>!e)),onMouseDown:ie,edge:"end",children:k?(0,$.jsx)(P.A,{}):(0,$.jsx)(y.A,{})})}),label:"Old Password",autoComplete:"off","aria-describedby":"password-error",error:!(null===se||void 0===se||null===(e=se.password)||void 0===e||!e.message),...ee("oldPassword",{required:"Old Password is required"})}),(null===se||void 0===se?void 0:se.oldPassword)&&(0,$.jsx)(A.A,{error:!0,id:"password-error",children:null===se||void 0===se||null===(r=se.oldPassword)||void 0===r?void 0:r.message})]}),(0,$.jsxs)(w.A,{variant:"outlined",autoComplete:"off",margin:"normal",sx:{width:"100%"},children:[(0,$.jsx)(f.A,{htmlFor:"password","aria-label":"password",required:!0,children:"New Password"}),(0,$.jsx)(j.A,{id:"password",type:L?"text":"password",endAdornment:(0,$.jsx)(q.A,{position:"end",children:(0,$.jsx)(b.A,{"aria-label":"toggle password visibility",onClick:()=>N((e=>!e)),onMouseDown:ie,edge:"end",children:L?(0,$.jsx)(P.A,{}):(0,$.jsx)(y.A,{})})}),label:"New Password",autoComplete:"off","aria-describedby":"password-error",error:!(null===se||void 0===se||null===(n=se.password)||void 0===n||!n.message),...ee("password",{required:"Password is required"})}),(null===se||void 0===se?void 0:se.password)&&(0,$.jsx)(A.A,{error:!0,id:"password-error",children:null===se||void 0===se||null===(a=se.password)||void 0===a?void 0:a.message})]}),(0,$.jsxs)(w.A,{variant:"outlined",autoComplete:"off",margin:"normal",sx:{width:"100%"},children:[(0,$.jsx)(f.A,{htmlFor:"confirmPassword","aria-label":"Confirm Password",required:!0,children:"Confirm New Password"}),(0,$.jsx)(j.A,{id:"confirmPassword",type:z?"text":"password",endAdornment:(0,$.jsx)(q.A,{position:"end",children:(0,$.jsx)(b.A,{"aria-label":"toggle password visibility",onClick:()=>J((e=>!e)),onMouseDown:e=>{e.preventDefault()},edge:"end",children:z?(0,$.jsx)(P.A,{}):(0,$.jsx)(y.A,{})})}),label:"Confirm New Password",autoComplete:"off","aria-describedby":"password-error",error:!(null===se||void 0===se||null===(E=se.confirmPassword)||void 0===E||!E.message),...ee("confirmPassword",{required:"Password is required"})}),(null===se||void 0===se?void 0:se.confirmPassword)&&(0,$.jsx)(A.A,{error:!0,id:"password-error",children:null===se||void 0===se||null===(O=se.confirmPassword)||void 0===O?void 0:O.message})]}),(0,$.jsxs)(w.A,{variant:"outlined",autoComplete:"off",margin:"normal",sx:{width:"100%"},children:[(0,$.jsx)(i.A,{sitekey:"".concat("6LfQeaYoAAAAAMZaQJxuVKuB_IrcLEwzcmx6VbqX"),onChange:e=>(B(e||""),void Q("")),onExpired:()=>te(),onErrored:()=>te()}),T&&(0,$.jsx)(x.A,{variant:"standard",severity:"error",sx:{width:"100%",mt:1},children:T})]}),(0,$.jsx)(C.A,{type:"submit",variant:"contained",sx:{mt:3,mb:2,width:"100%"},"aria-label":"forgot password button",disabled:K,children:"Change"})]})]})})})})},O=()=>(0,$.jsx)(a.Ay,{container:!0,children:(0,$.jsx)(a.Ay,{item:!0,xs:12,children:(0,$.jsx)(E,{})})})},9351:(e,r,n)=>{n.d(r,{G6:()=>C,Hx:()=>j,Tx:()=>A,Ur:()=>b,Zs:()=>g,ab:()=>$,iO:()=>I,lj:()=>Y,ox:()=>q,rF:()=>E,tz:()=>y,xt:()=>M,yJ:()=>O,y_:()=>P});var a,s,t,i,o,d,u,l,c,m,p,h,v,x,w=n(7528),f=n(459);const j=(0,f.J1)(a||(a=(0,w.A)(["\n  mutation signup($input: signupInput!) {\n    signup(input: $input) {\n      error {\n        key\n        value\n      }\n      message\n      severity\n    }\n  }\n"]))),q=(0,f.J1)(s||(s=(0,w.A)(["\n  mutation changeStatus($input: idInput!) {\n    changeStatus(input: $input) {\n      hasError\n      message\n      severity\n    }\n  }\n"]))),b=(0,f.J1)(t||(t=(0,w.A)(["\n  mutation removeUser($input: idInput!) {\n    removeUser(input: $input) {\n      hasError\n      message\n      severity\n    }\n  }\n"]))),A=(0,f.J1)(i||(i=(0,w.A)(["\n  mutation createInvoice($input: invoiceInput!) {\n    createInvoice(input: $input) {\n      error {\n        key\n        value\n      }\n      message\n      severity\n    }\n  }\n"]))),C=(0,f.J1)(o||(o=(0,w.A)(["\n  mutation updateInvoice($input: invoiceInput!) {\n    updateInvoice(input: $input) {\n      error {\n        key\n        value\n      }\n      message\n      severity\n    }\n  }\n"]))),g=(0,f.J1)(d||(d=(0,w.A)(["\n  mutation setPassword($input: setPasswordInput!) {\n    setPassword(input: $input) {\n      error {\n        key\n        value\n      }\n      message\n      severity\n    }\n  }\n"]))),P=(0,f.J1)(u||(u=(0,w.A)(["\n  mutation createCard($input: cardInput!) {\n    createCard(input: $input) {\n      error {\n        key\n        value\n      }\n      message\n      severity\n    }\n  }\n"]))),y=(0,f.J1)(l||(l=(0,w.A)(["\n  mutation updateCard($input: cardInput!) {\n    updateCard(input: $input) {\n      error {\n        key\n        value\n      }\n      message\n      severity\n    }\n  }\n"]))),M=(0,f.J1)(c||(c=(0,w.A)(["\n  mutation changeCardStatus($input: idInput!) {\n    changeCardStatus(input: $input) {\n      hasError\n      message\n      severity\n    }\n  }\n"]))),I=(0,f.J1)(m||(m=(0,w.A)(["\n  mutation changeInvoiceStatus($input: idInput!) {\n    changeInvoiceStatus(input: $input) {\n      hasError\n      message\n      severity\n    }\n  }\n"]))),Y=(0,f.J1)(p||(p=(0,w.A)(["\n  mutation changePassword($input: changePasswordInput!) {\n    changePassword(input: $input) {\n      error {\n        key\n        value\n      }\n      message\n      severity\n    }\n  }\n"]))),$=(0,f.J1)(h||(h=(0,w.A)(["\n  mutation updateProfile($input: updateProfileInput!) {\n    updateProfile(input: $input) {\n      error {\n        key\n        value\n      }\n      message\n      severity\n    }\n  }\n"]))),E=(0,f.J1)(v||(v=(0,w.A)(["\n  mutation removeCard($input: objIdInput!) {\n    removeCard(input: $input) {\n      hasError\n      message\n      severity\n    }\n  }\n"]))),O=(0,f.J1)(x||(x=(0,w.A)(["\n  mutation removeInvoice($input: objIdInput!) {\n    removeInvoice(input: $input) {\n      hasError\n      message\n      severity\n    }\n  }\n"])))},903:(e,r,n)=>{n.d(r,{Cx:()=>l,E9:()=>i,O5:()=>s,V8:()=>o,X5:()=>t,jK:()=>d,nM:()=>c,uk:()=>u});var a=n(899);const s=a.Ik().shape({first_name:a.Yj().min(3).max(150).required("Please enter first name"),last_name:a.Yj().min(3).max(150).required("Please enter last name"),email:a.Yj().max(150).email("Please indicate a valid email address.").required("Please enter email address."),password:a.Yj().required("Please Enter your password").min(6,"Your password must be longer than 6 characters.").max(18).matches(/^(?=.{6,})/,"Must Contain 6 Characters").matches(/^(?=.*[a-z])(?=.*[A-Z])/,"Must Contain One Uppercase, One Lowercase").matches(/^(?=.*[!@#\$%\^&\*])/,"Must Contain One Special Case Character").matches(/^(?=.{6,20}$)\D*\d/,"Must Contain One Number"),confirmPassword:a.Yj().required("Please Enter your password").min(6,"Your password must be longer than 6 characters.").max(18).matches(/^(?=.{6,})/,"Must Contain 6 Characters").matches(/^(?=.*[a-z])(?=.*[A-Z])/,"Must Contain One Uppercase, One Lowercase").matches(/^(?=.*[!@#\$%\^&\*])/,"Must Contain One Special Case Character").matches(/^(?=.{6,20}$)\D*\d/,"Must Contain One Number").oneOf([a.KR("password"),null],"Passwords don't match!").required("Please enter confirm password")}),t=a.Ik().shape({email:a.Yj().email("Must be a valid email").max(150).required("Email is required"),password:a.Yj().required("Please enter password")}).required(),i=a.Ik().shape({email:a.Yj().email("Must be a valid email").max(150).required("Email is required")}).required(),o=a.Ik().shape({password:a.Yj().required("Please Enter your password").min(6,"Your password must be longer than 6 characters.").max(18).matches(/^(?=.{6,})/,"Must Contain 6 Characters").matches(/^(?=.*[a-z])(?=.*[A-Z])/,"Must Contain One Uppercase, One Lowercase").matches(/^(?=.*[!@#\$%\^&\*])/,"Must Contain One Special Case Character").matches(/^(?=.{6,20}$)\D*\d/,"Must Contain One Number"),confirmPassword:a.Yj().required("Please Enter your password").min(6,"Your password must be longer than 6 characters.").max(18).matches(/^(?=.{6,})/,"Must Contain 6 Characters").matches(/^(?=.*[a-z])(?=.*[A-Z])/,"Must Contain One Uppercase, One Lowercase").matches(/^(?=.*[!@#\$%\^&\*])/,"Must Contain One Special Case Character").matches(/^(?=.{6,20}$)\D*\d/,"Must Contain One Number").oneOf([a.KR("password"),null],"Passwords don't match!").required("Please enter confirm password")}),d=a.Ik().shape({sticker_number:a.Yj().max(30).required("Strike number is required"),reference_number:a.Yj().max(30).required("Reference Number is required"),equipment_type:a.Yj().max(30).required("Equipment type is required"),equipment_description:a.Yj().max(200).required("Equipment description is required"),make:a.Yj().max(150).required("Make is required"),serial_number:a.Yj().max(100).required("Serial number is required"),year_of_manufacturing:a.Yj().max(30).required("Year of manufacturing is required"),plant_number:a.Yj().max(100).required("Plant number is required"),location_of_equipment:a.Yj().max(30).required("Location of the equipment is required"),owner_business_name:a.Yj().max(150).required("Owner's Business name is required"),owner_business_address:a.Yj().max(200).required("Owner's Business address is required"),details:a.Yj().max(200).required("details is required"),standard_specification:a.Yj().max(200).required("Standard Specification is required"),business_name:a.Yj().max(100).required("Business name is required"),business_address:a.Yj().max(200).required("Business address is required"),inspection_date:a.Yj().max(30).required("Inspection date is required"),inspection_next_date:a.Yj().max(30).required("Inspection next date is required"),inspector_name:a.Yj().max(100).required("Inspector's name is required"),resultStatus:a.Yj().required("resultStatus is required")}),u=a.Ik().shape({name:a.Yj().max(150).required("Card holder name is required"),iqama_number:a.Yj().max(100).required("Iqama Number is required"),issue_date:a.Yj().max(30).required("Issue date is required"),expiry_date:a.Yj().max(30).required("Expiry date is required"),certified_as:a.Yj().max(100).required("Certified as is required"),company:a.Yj().max(100).required("Company as is required"),examiner:a.Yj().max(100).required("Examiner as is required"),profile_pic:a.Yj().nullable().notRequired()}),l=a.Ik().shape({first_name:a.Yj().min(3).max(150).required("Please enter first name"),last_name:a.Yj().min(3).max(150).required("Please enter last name"),role:a.zM().nullable().notRequired()}),c=a.Ik().shape({oldPassword:a.Yj().required("Please Enter your old password").min(6,"Your password must be longer than 6 characters.").max(18).matches(/^(?=.{6,})/,"Must Contain 6 Characters").matches(/^(?=.*[a-z])(?=.*[A-Z])/,"Must Contain One Uppercase, One Lowercase").matches(/^(?=.*[!@#\$%\^&\*])/,"Must Contain One Special Case Character").matches(/^(?=.{6,20}$)\D*\d/,"Must Contain One Number"),password:a.Yj().required("Please Enter your password").min(6,"Your password must be longer than 6 characters.").max(18).matches(/^(?=.{6,})/,"Must Contain 6 Characters").matches(/^(?=.*[a-z])(?=.*[A-Z])/,"Must Contain One Uppercase, One Lowercase").matches(/^(?=.*[!@#\$%\^&\*])/,"Must Contain One Special Case Character").matches(/^(?=.{6,20}$)\D*\d/,"Must Contain One Number"),confirmPassword:a.Yj().required("Please Enter your password").min(6,"Your password must be longer than 6 characters.").max(18).matches(/^(?=.{6,})/,"Must Contain 6 Characters").matches(/^(?=.*[a-z])(?=.*[A-Z])/,"Must Contain One Uppercase, One Lowercase").matches(/^(?=.*[!@#\$%\^&\*])/,"Must Contain One Special Case Character").matches(/^(?=.{6,20}$)\D*\d/,"Must Contain One Number").oneOf([a.KR("password"),null],"Passwords don't match!").required("Please enter confirm password")})},3632:(e,r,n)=>{n.d(r,{A:()=>t});var a=n(9662),s=n(579);const t=(0,a.A)((0,s.jsx)("path",{d:"M12 4.5C7 4.5 2.73 7.61 1 12c1.73 4.39 6 7.5 11 7.5s9.27-3.11 11-7.5c-1.73-4.39-6-7.5-11-7.5M12 17c-2.76 0-5-2.24-5-5s2.24-5 5-5 5 2.24 5 5-2.24 5-5 5m0-8c-1.66 0-3 1.34-3 3s1.34 3 3 3 3-1.34 3-3-1.34-3-3-3"}),"Visibility")},5940:(e,r,n)=>{n.d(r,{A:()=>t});var a=n(9662),s=n(579);const t=(0,a.A)((0,s.jsx)("path",{d:"M12 7c2.76 0 5 2.24 5 5 0 .65-.13 1.26-.36 1.83l2.92 2.92c1.51-1.26 2.7-2.89 3.43-4.75-1.73-4.39-6-7.5-11-7.5-1.4 0-2.74.25-3.98.7l2.16 2.16C10.74 7.13 11.35 7 12 7M2 4.27l2.28 2.28.46.46C3.08 8.3 1.78 10.02 1 12c1.73 4.39 6 7.5 11 7.5 1.55 0 3.03-.3 4.38-.84l.42.42L19.73 22 21 20.73 3.27 3zM7.53 9.8l1.55 1.55c-.05.21-.08.43-.08.65 0 1.66 1.34 3 3 3 .22 0 .44-.03.65-.08l1.55 1.55c-.67.33-1.41.53-2.2.53-2.76 0-5-2.24-5-5 0-.79.2-1.53.53-2.2m4.31-.78 3.15 3.15.02-.16c0-1.66-1.34-3-3-3z"}),"VisibilityOff")},1787:(e,r,n)=>{n.d(r,{A:()=>A});var a=n(8587),s=n(8168),t=n(5043),i=n(8387),o=n(8606),d=n(6803),u=n(5865),l=n(1053),c=n(5213),m=n(4535),p=n(7056),h=n(2400);function v(e){return(0,h.Ay)("MuiInputAdornment",e)}const x=(0,p.A)("MuiInputAdornment",["root","filled","standard","outlined","positionStart","positionEnd","disablePointerEvents","hiddenLabel","sizeSmall"]);var w,f=n(2876),j=n(579);const q=["children","className","component","disablePointerEvents","disableTypography","position","variant"],b=(0,m.Ay)("div",{name:"MuiInputAdornment",slot:"Root",overridesResolver:(e,r)=>{const{ownerState:n}=e;return[r.root,r["position".concat((0,d.A)(n.position))],!0===n.disablePointerEvents&&r.disablePointerEvents,r[n.variant]]}})((e=>{let{theme:r,ownerState:n}=e;return(0,s.A)({display:"flex",height:"0.01em",maxHeight:"2em",alignItems:"center",whiteSpace:"nowrap",color:(r.vars||r).palette.action.active},"filled"===n.variant&&{["&.".concat(x.positionStart,"&:not(.").concat(x.hiddenLabel,")")]:{marginTop:16}},"start"===n.position&&{marginRight:8},"end"===n.position&&{marginLeft:8},!0===n.disablePointerEvents&&{pointerEvents:"none"})})),A=t.forwardRef((function(e,r){const n=(0,f.A)({props:e,name:"MuiInputAdornment"}),{children:m,className:p,component:h="div",disablePointerEvents:x=!1,disableTypography:A=!1,position:C,variant:g}=n,P=(0,a.A)(n,q),y=(0,c.A)()||{};let M=g;g&&y.variant,y&&!M&&(M=y.variant);const I=(0,s.A)({},n,{hiddenLabel:y.hiddenLabel,size:y.size,disablePointerEvents:x,position:C,variant:M}),Y=(e=>{const{classes:r,disablePointerEvents:n,hiddenLabel:a,position:s,size:t,variant:i}=e,u={root:["root",n&&"disablePointerEvents",s&&"position".concat((0,d.A)(s)),i,a&&"hiddenLabel",t&&"size".concat((0,d.A)(t))]};return(0,o.A)(u,v,r)})(I);return(0,j.jsx)(l.A.Provider,{value:null,children:(0,j.jsx)(b,(0,s.A)({as:h,ownerState:I,className:(0,i.A)(Y.root,p),ref:r},P,{children:"string"!==typeof m||A?(0,j.jsxs)(t.Fragment,{children:["start"===C?w||(w=(0,j.jsx)("span",{className:"notranslate",children:"\u200b"})):null,m]}):(0,j.jsx)(u.A,{color:"text.secondary",children:m})}))})}))},1881:(e,r,n)=>{n.d(r,{n:()=>l});var a=n(6326),s=n(48),t=n(2277),i=n(4902),o=n(36),d=n(7832),u=n(5190);function l(e,r){var n=(0,u.m)(null===r||void 0===r?void 0:r.client);(0,o.D$)(e,o.KG.Mutation);var l=s.useState({called:!1,loading:!1,client:n}),c=l[0],m=l[1],p=s.useRef({result:c,mutationId:0,isMounted:!0,client:n,mutation:e,options:r});Object.assign(p.current,{client:n,options:r,mutation:e});var h=s.useCallback((function(e){void 0===e&&(e={});var r=p.current,n=r.options,s=r.mutation,o=(0,a.Cl)((0,a.Cl)({},n),{mutation:s}),u=e.client||p.current.client;p.current.result.loading||o.ignoreResults||!p.current.isMounted||m(p.current.result={loading:!0,error:void 0,data:void 0,called:!0,client:u});var l=++p.current.mutationId,c=(0,t.l)(o,e);return u.mutate(c).then((function(r){var n,a,s=r.data,t=r.errors,o=t&&t.length>0?new d.K4({graphQLErrors:t}):void 0,h=e.onError||(null===(n=p.current.options)||void 0===n?void 0:n.onError);if(o&&h&&h(o,c),l===p.current.mutationId&&!c.ignoreResults){var v={called:!0,loading:!1,data:s,error:o,client:u};p.current.isMounted&&!(0,i.L)(p.current.result,v)&&m(p.current.result=v)}var x=e.onCompleted||(null===(a=p.current.options)||void 0===a?void 0:a.onCompleted);return o||null===x||void 0===x||x(r.data,c),r})).catch((function(r){var n;if(l===p.current.mutationId&&p.current.isMounted){var a={loading:!1,error:r,data:void 0,called:!0,client:u};(0,i.L)(p.current.result,a)||m(p.current.result=a)}var s=e.onError||(null===(n=p.current.options)||void 0===n?void 0:n.onError);if(s)return s(r,c),{data:void 0,errors:r};throw r}))}),[]),v=s.useCallback((function(){if(p.current.isMounted){var e={called:!1,loading:!1,client:n};Object.assign(p.current,{mutationId:0,result:e}),m(e)}}),[]);return s.useEffect((function(){return p.current.isMounted=!0,function(){p.current.isMounted=!1}}),[]),[h,(0,a.Cl)({reset:v},c)]}}}]);
//# sourceMappingURL=390.ba77ce0a.chunk.js.map
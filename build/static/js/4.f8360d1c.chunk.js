"use strict";(self.webpackChunkfront_end=self.webpackChunkfront_end||[]).push([[4],{8004:(e,r,a)=>{a.r(r),a.d(r,{default:()=>I});var s=a(5043),t=a(8903),n=a(3216),i=a(9456),o=a(4858),l=a(8403),d=a(6410),c=a(9252),u=a(2110),m=a(6494),p=a(6446),h=a(1045),f=a(5865),x=a(7254),v=a(3193),b=a(9190),j=a(4050),A=a(1673),q=a(1787),w=a(7392),g=a(1906),y=a(8446),C=a(6325),M=a(5940),P=a(3632),Y=a(2010),S=a(903),O=a(7343),k=a(579);const _=()=>{var e,r,a,i;const _=(0,n.Zp)(),[E,I]=s.useState("error"),[z,R]=s.useState(""),[L,D]=s.useState(!1),[N,{loading:$,error:F,data:U}]=(0,d._)(Y.S3),{register:Z,handleSubmit:V,setError:T,formState:{errors:B}}=(0,o.mN)({resolver:(0,l.t)(S.X5)}),[H,K]=s.useState(!1);return s.useEffect((()=>{if(!$&&!F&&U){const e=U.login;I(e.severity),R(e.message),(0,O.ft)(e.error,T),D(!1),!e.error&&e.severity.includes("success")&&((0,O.TV)("user_key",e.token),_("/dashboard"),_(0))}}),[$,F,U,T,_,D]),(0,k.jsx)(c.A,{maxWidth:!1,sx:{maxWidth:"600px"},children:(0,k.jsx)(u.A,{sx:{mt:10,border:1,borderColor:"primary.dark"},children:(0,k.jsx)(m.A,{children:(0,k.jsxs)(p.A,{sx:{display:"flex",flexDirection:"column",alignItems:"center"},children:[(0,k.jsx)(h.A,{sx:{bgcolor:"secondary.main"},children:(0,k.jsx)(C.A,{})}),(0,k.jsx)(f.A,{component:"h1",variant:"h2",children:"Login"}),(0,k.jsxs)(p.A,{component:"form",onSubmit:V(((e,r)=>{r.preventDefault(),D(!0),N({variables:{input:e}})})),noValidate:!0,sx:{mt:1},autoComplete:"off",children:[E&&z&&(0,k.jsx)(x.A,{variant:"standard",severity:E,sx:{width:"100%",mt:1},children:z}),(0,k.jsxs)(v.A,{variant:"outlined",autoComplete:"off",margin:"normal",sx:{width:"100%"},children:[(0,k.jsx)(b.A,{htmlFor:"email","aria-label":"Email",required:!0,children:"Email"}),(0,k.jsx)(j.A,{id:"email",name:"email",type:"email",autoComplete:"off",label:"Username","aria-label":"email",sx:{width:"100%"},"aria-describedby":"email-error",error:!(null===B||void 0===B||null===(e=B.email)||void 0===e||!e.message),...Z("email")}),(null===B||void 0===B?void 0:B.email)&&(0,k.jsx)(A.A,{error:!0,id:"email-error",children:null===B||void 0===B||null===(r=B.email)||void 0===r?void 0:r.message})]}),(0,k.jsxs)(v.A,{variant:"outlined",autoComplete:"off",margin:"normal",sx:{width:"100%"},children:[(0,k.jsx)(b.A,{htmlFor:"password","aria-label":"password",required:!0,children:"Password"}),(0,k.jsx)(j.A,{id:"password",type:H?"text":"password",endAdornment:(0,k.jsx)(q.A,{position:"end",children:(0,k.jsx)(w.A,{"aria-label":"toggle password visibility",onClick:()=>K((e=>!e)),onMouseDown:e=>{e.preventDefault()},edge:"end",children:H?(0,k.jsx)(M.A,{}):(0,k.jsx)(P.A,{})})}),label:"Password",autoComplete:"off","aria-describedby":"password-error",error:!(null===B||void 0===B||null===(a=B.password)||void 0===a||!a.message),...Z("password")}),(null===B||void 0===B?void 0:B.password)&&(0,k.jsx)(A.A,{error:!0,id:"password-error",children:null===B||void 0===B||null===(i=B.password)||void 0===i?void 0:i.message})]}),(0,k.jsx)(g.A,{type:"submit",variant:"contained",sx:{mt:3,mb:2,width:"100%"},"aria-label":"login button",disabled:L,children:"Login"}),(0,k.jsxs)(t.Ay,{container:!0,children:[(0,k.jsx)(t.Ay,{item:!0,xs:12,sm:6,children:(0,k.jsx)(y.A,{href:"/forgot-password",variant:"body1","aria-label":"forgot password link",children:"Forgot password?"})}),(0,k.jsx)(t.Ay,{item:!0,xs:12,sm:6,sx:{display:"flex",justifyContent:"flex-end"},children:(0,k.jsx)(y.A,{href:"/sign-up",variant:"body1","aria-label":"forgot password link",children:"Create Account"})})]})]})]})})})})};_.defaultProps={onSubmit:()=>{}};const E=_,I=()=>{const e=(0,n.Zp)(),r=(0,i.d4)((e=>e.auth)),{isLoggedIn:a}=r;return(0,s.useEffect)((()=>{a&&e("/dashboard")}),[a,e]),(0,k.jsx)(t.Ay,{container:!0,spacing:3,children:(0,k.jsx)(t.Ay,{item:!0,xs:12,children:(0,k.jsx)(E,{})})})}},903:(e,r,a)=>{a.d(r,{Cx:()=>c,E9:()=>i,O5:()=>t,V8:()=>o,X5:()=>n,jK:()=>l,nM:()=>u,uk:()=>d});var s=a(899);const t=s.Ik().shape({first_name:s.Yj().min(3).max(150).required("Please enter first name"),last_name:s.Yj().min(3).max(150).required("Please enter last name"),email:s.Yj().max(150).email("Please indicate a valid email address.").required("Please enter email address."),password:s.Yj().required("Please Enter your password").min(6,"Your password must be longer than 6 characters.").max(18).matches(/^(?=.{6,})/,"Must Contain 6 Characters").matches(/^(?=.*[a-z])(?=.*[A-Z])/,"Must Contain One Uppercase, One Lowercase").matches(/^(?=.*[!@#\$%\^&\*])/,"Must Contain One Special Case Character").matches(/^(?=.{6,20}$)\D*\d/,"Must Contain One Number"),confirmPassword:s.Yj().required("Please Enter your password").min(6,"Your password must be longer than 6 characters.").max(18).matches(/^(?=.{6,})/,"Must Contain 6 Characters").matches(/^(?=.*[a-z])(?=.*[A-Z])/,"Must Contain One Uppercase, One Lowercase").matches(/^(?=.*[!@#\$%\^&\*])/,"Must Contain One Special Case Character").matches(/^(?=.{6,20}$)\D*\d/,"Must Contain One Number").oneOf([s.KR("password"),null],"Passwords don't match!").required("Please enter confirm password")}),n=s.Ik().shape({email:s.Yj().email("Must be a valid email").max(150).required("Email is required"),password:s.Yj().required("Please enter password")}).required(),i=s.Ik().shape({email:s.Yj().email("Must be a valid email").max(150).required("Email is required")}).required(),o=s.Ik().shape({password:s.Yj().required("Please Enter your password").min(6,"Your password must be longer than 6 characters.").max(18).matches(/^(?=.{6,})/,"Must Contain 6 Characters").matches(/^(?=.*[a-z])(?=.*[A-Z])/,"Must Contain One Uppercase, One Lowercase").matches(/^(?=.*[!@#\$%\^&\*])/,"Must Contain One Special Case Character").matches(/^(?=.{6,20}$)\D*\d/,"Must Contain One Number"),confirmPassword:s.Yj().required("Please Enter your password").min(6,"Your password must be longer than 6 characters.").max(18).matches(/^(?=.{6,})/,"Must Contain 6 Characters").matches(/^(?=.*[a-z])(?=.*[A-Z])/,"Must Contain One Uppercase, One Lowercase").matches(/^(?=.*[!@#\$%\^&\*])/,"Must Contain One Special Case Character").matches(/^(?=.{6,20}$)\D*\d/,"Must Contain One Number").oneOf([s.KR("password"),null],"Passwords don't match!").required("Please enter confirm password")}),l=s.Ik().shape({sticker_number:s.Yj().max(30).required("Strike number is required"),reference_number:s.Yj().max(30).required("Reference Number is required"),equipment_type:s.Yj().max(30).required("Equipment type is required"),equipment_description:s.Yj().max(200).required("Equipment description is required"),make:s.Yj().max(150).required("Make is required"),serial_number:s.Yj().max(100).required("Serial number is required"),year_of_manufacturing:s.Yj().max(30).required("Year of manufacturing is required"),plant_number:s.Yj().max(100).required("Plant number is required"),location_of_equipment:s.Yj().max(30).required("Location of the equipment is required"),owner_business_name:s.Yj().max(150).required("Owner's Business name is required"),owner_business_address:s.Yj().max(200).required("Owner's Business address is required"),details:s.Yj().max(200).required("details is required"),standard_specification:s.Yj().max(200).required("Standard Specification is required"),business_name:s.Yj().max(100).required("Business name is required"),business_address:s.Yj().max(200).required("Business address is required"),inspection_date:s.Yj().max(30).required("Inspection date is required"),inspection_next_date:s.Yj().max(30).required("Inspection next date is required"),inspector_name:s.Yj().max(100).required("Inspector's name is required"),resultStatus:s.Yj().required("resultStatus is required")}),d=s.Ik().shape({name:s.Yj().max(150).required("Card holder name is required"),iqama_number:s.Yj().max(100).required("Iqama Number is required"),issue_date:s.Yj().max(30).required("Issue date is required"),expiry_date:s.Yj().max(30).required("Expiry date is required"),certified_as:s.Yj().max(100).required("Certified as is required"),company:s.Yj().max(100).required("Company as is required"),examiner:s.Yj().max(100).required("Examiner as is required"),profile_pic:s.Yj().nullable().notRequired()}),c=s.Ik().shape({first_name:s.Yj().min(3).max(150).required("Please enter first name"),last_name:s.Yj().min(3).max(150).required("Please enter last name"),role:s.zM().nullable().notRequired()}),u=s.Ik().shape({oldPassword:s.Yj().required("Please Enter your old password").min(6,"Your password must be longer than 6 characters.").max(18).matches(/^(?=.{6,})/,"Must Contain 6 Characters").matches(/^(?=.*[a-z])(?=.*[A-Z])/,"Must Contain One Uppercase, One Lowercase").matches(/^(?=.*[!@#\$%\^&\*])/,"Must Contain One Special Case Character").matches(/^(?=.{6,20}$)\D*\d/,"Must Contain One Number"),password:s.Yj().required("Please Enter your password").min(6,"Your password must be longer than 6 characters.").max(18).matches(/^(?=.{6,})/,"Must Contain 6 Characters").matches(/^(?=.*[a-z])(?=.*[A-Z])/,"Must Contain One Uppercase, One Lowercase").matches(/^(?=.*[!@#\$%\^&\*])/,"Must Contain One Special Case Character").matches(/^(?=.{6,20}$)\D*\d/,"Must Contain One Number"),confirmPassword:s.Yj().required("Please Enter your password").min(6,"Your password must be longer than 6 characters.").max(18).matches(/^(?=.{6,})/,"Must Contain 6 Characters").matches(/^(?=.*[a-z])(?=.*[A-Z])/,"Must Contain One Uppercase, One Lowercase").matches(/^(?=.*[!@#\$%\^&\*])/,"Must Contain One Special Case Character").matches(/^(?=.{6,20}$)\D*\d/,"Must Contain One Number").oneOf([s.KR("password"),null],"Passwords don't match!").required("Please enter confirm password")})},6325:(e,r,a)=>{var s=a(4994);r.A=void 0;var t=s(a(39)),n=a(579);r.A=(0,t.default)((0,n.jsx)("path",{d:"M18 8h-1V6c0-2.76-2.24-5-5-5S7 3.24 7 6v2H6c-1.1 0-2 .9-2 2v10c0 1.1.9 2 2 2h12c1.1 0 2-.9 2-2V10c0-1.1-.9-2-2-2M9 6c0-1.66 1.34-3 3-3s3 1.34 3 3v2H9zm9 14H6V10h12zm-6-3c1.1 0 2-.9 2-2s-.9-2-2-2-2 .9-2 2 .9 2 2 2"}),"LockOutlined")},3632:(e,r,a)=>{a.d(r,{A:()=>n});var s=a(9662),t=a(579);const n=(0,s.A)((0,t.jsx)("path",{d:"M12 4.5C7 4.5 2.73 7.61 1 12c1.73 4.39 6 7.5 11 7.5s9.27-3.11 11-7.5c-1.73-4.39-6-7.5-11-7.5M12 17c-2.76 0-5-2.24-5-5s2.24-5 5-5 5 2.24 5 5-2.24 5-5 5m0-8c-1.66 0-3 1.34-3 3s1.34 3 3 3 3-1.34 3-3-1.34-3-3-3"}),"Visibility")},5940:(e,r,a)=>{a.d(r,{A:()=>n});var s=a(9662),t=a(579);const n=(0,s.A)((0,t.jsx)("path",{d:"M12 7c2.76 0 5 2.24 5 5 0 .65-.13 1.26-.36 1.83l2.92 2.92c1.51-1.26 2.7-2.89 3.43-4.75-1.73-4.39-6-7.5-11-7.5-1.4 0-2.74.25-3.98.7l2.16 2.16C10.74 7.13 11.35 7 12 7M2 4.27l2.28 2.28.46.46C3.08 8.3 1.78 10.02 1 12c1.73 4.39 6 7.5 11 7.5 1.55 0 3.03-.3 4.38-.84l.42.42L19.73 22 21 20.73 3.27 3zM7.53 9.8l1.55 1.55c-.05.21-.08.43-.08.65 0 1.66 1.34 3 3 3 .22 0 .44-.03.65-.08l1.55 1.55c-.67.33-1.41.53-2.2.53-2.76 0-5-2.24-5-5 0-.79.2-1.53.53-2.2m4.31-.78 3.15 3.15.02-.16c0-1.66-1.34-3-3-3z"}),"VisibilityOff")},1045:(e,r,a)=>{a.d(r,{A:()=>w});var s=a(8587),t=a(8168),n=a(5043),i=a(8387),o=a(8606),l=a(4350),d=a(4535),c=a(9662),u=a(579);const m=(0,c.A)((0,u.jsx)("path",{d:"M12 12c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm0 2c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4z"}),"Person");var p=a(7056),h=a(2400);function f(e){return(0,h.Ay)("MuiAvatar",e)}(0,p.A)("MuiAvatar",["root","colorDefault","circular","rounded","square","img","fallback"]);var x=a(4162);const v=["alt","children","className","component","slots","slotProps","imgProps","sizes","src","srcSet","variant"],b=(0,l.h)("MuiAvatar"),j=(0,d.Ay)("div",{name:"MuiAvatar",slot:"Root",overridesResolver:(e,r)=>{const{ownerState:a}=e;return[r.root,r[a.variant],a.colorDefault&&r.colorDefault]}})((e=>{let{theme:r}=e;return{position:"relative",display:"flex",alignItems:"center",justifyContent:"center",flexShrink:0,width:40,height:40,fontFamily:r.typography.fontFamily,fontSize:r.typography.pxToRem(20),lineHeight:1,borderRadius:"50%",overflow:"hidden",userSelect:"none",variants:[{props:{variant:"rounded"},style:{borderRadius:(r.vars||r).shape.borderRadius}},{props:{variant:"square"},style:{borderRadius:0}},{props:{colorDefault:!0},style:(0,t.A)({color:(r.vars||r).palette.background.default},r.vars?{backgroundColor:r.vars.palette.Avatar.defaultBg}:(0,t.A)({backgroundColor:r.palette.grey[400]},r.applyStyles("dark",{backgroundColor:r.palette.grey[600]})))}]}})),A=(0,d.Ay)("img",{name:"MuiAvatar",slot:"Img",overridesResolver:(e,r)=>r.img})({width:"100%",height:"100%",textAlign:"center",objectFit:"cover",color:"transparent",textIndent:1e4}),q=(0,d.Ay)(m,{name:"MuiAvatar",slot:"Fallback",overridesResolver:(e,r)=>r.fallback})({width:"75%",height:"75%"});const w=n.forwardRef((function(e,r){const a=b({props:e,name:"MuiAvatar"}),{alt:l,children:d,className:c,component:m="div",slots:p={},slotProps:h={},imgProps:w,sizes:g,src:y,srcSet:C,variant:M="circular"}=a,P=(0,s.A)(a,v);let Y=null;const S=function(e){let{crossOrigin:r,referrerPolicy:a,src:s,srcSet:t}=e;const[i,o]=n.useState(!1);return n.useEffect((()=>{if(!s&&!t)return;o(!1);let e=!0;const n=new Image;return n.onload=()=>{e&&o("loaded")},n.onerror=()=>{e&&o("error")},n.crossOrigin=r,n.referrerPolicy=a,n.src=s,t&&(n.srcset=t),()=>{e=!1}}),[r,a,s,t]),i}((0,t.A)({},w,{src:y,srcSet:C})),O=y||C,k=O&&"error"!==S,_=(0,t.A)({},a,{colorDefault:!k,component:m,variant:M}),E=(e=>{const{classes:r,variant:a,colorDefault:s}=e,t={root:["root",a,s&&"colorDefault"],img:["img"],fallback:["fallback"]};return(0,o.A)(t,f,r)})(_),[I,z]=(0,x.A)("img",{className:E.img,elementType:A,externalForwardedProps:{slots:p,slotProps:{img:(0,t.A)({},w,h.img)}},additionalProps:{alt:l,src:y,srcSet:C,sizes:g},ownerState:_});return Y=k?(0,u.jsx)(I,(0,t.A)({},z)):d||0===d?d:O&&l?l[0]:(0,u.jsx)(q,{ownerState:_,className:E.fallback}),(0,u.jsx)(j,(0,t.A)({as:m,ownerState:_,className:(0,i.A)(E.root,c),ref:r},P,{children:Y}))}))},1787:(e,r,a)=>{a.d(r,{A:()=>w});var s=a(8587),t=a(8168),n=a(5043),i=a(8387),o=a(8606),l=a(6803),d=a(5865),c=a(1053),u=a(5213),m=a(4535),p=a(7056),h=a(2400);function f(e){return(0,h.Ay)("MuiInputAdornment",e)}const x=(0,p.A)("MuiInputAdornment",["root","filled","standard","outlined","positionStart","positionEnd","disablePointerEvents","hiddenLabel","sizeSmall"]);var v,b=a(2876),j=a(579);const A=["children","className","component","disablePointerEvents","disableTypography","position","variant"],q=(0,m.Ay)("div",{name:"MuiInputAdornment",slot:"Root",overridesResolver:(e,r)=>{const{ownerState:a}=e;return[r.root,r["position".concat((0,l.A)(a.position))],!0===a.disablePointerEvents&&r.disablePointerEvents,r[a.variant]]}})((e=>{let{theme:r,ownerState:a}=e;return(0,t.A)({display:"flex",height:"0.01em",maxHeight:"2em",alignItems:"center",whiteSpace:"nowrap",color:(r.vars||r).palette.action.active},"filled"===a.variant&&{["&.".concat(x.positionStart,"&:not(.").concat(x.hiddenLabel,")")]:{marginTop:16}},"start"===a.position&&{marginRight:8},"end"===a.position&&{marginLeft:8},!0===a.disablePointerEvents&&{pointerEvents:"none"})})),w=n.forwardRef((function(e,r){const a=(0,b.A)({props:e,name:"MuiInputAdornment"}),{children:m,className:p,component:h="div",disablePointerEvents:x=!1,disableTypography:w=!1,position:g,variant:y}=a,C=(0,s.A)(a,A),M=(0,u.A)()||{};let P=y;y&&M.variant,M&&!P&&(P=M.variant);const Y=(0,t.A)({},a,{hiddenLabel:M.hiddenLabel,size:M.size,disablePointerEvents:x,position:g,variant:P}),S=(e=>{const{classes:r,disablePointerEvents:a,hiddenLabel:s,position:t,size:n,variant:i}=e,d={root:["root",a&&"disablePointerEvents",t&&"position".concat((0,l.A)(t)),i,s&&"hiddenLabel",n&&"size".concat((0,l.A)(n))]};return(0,o.A)(d,f,r)})(Y);return(0,j.jsx)(c.A.Provider,{value:null,children:(0,j.jsx)(q,(0,t.A)({as:h,ownerState:Y,className:(0,i.A)(S.root,p),ref:r},C,{children:"string"!==typeof m||w?(0,j.jsxs)(n.Fragment,{children:["start"===g?v||(v=(0,j.jsx)("span",{className:"notranslate",children:"\u200b"})):null,m]}):(0,j.jsx)(d.A,{color:"text.secondary",children:m})}))})}))},6410:(e,r,a)=>{a.d(r,{_:()=>d});var s=a(6326),t=a(48),n=a(2277),i=a(8250),o=a(5190),l=["refetch","reobserve","fetchMore","updateQuery","startPolling","subscribeToMore"];function d(e,r){var a,d=t.useRef(),c=t.useRef(),u=t.useRef(),m=(0,n.l)(r,d.current||{}),p=null!==(a=null===m||void 0===m?void 0:m.query)&&void 0!==a?a:e;c.current=r,u.current=p;var h=(0,i.k)((0,o.m)(r&&r.client),p),f=h.useQuery((0,s.Cl)((0,s.Cl)({},m),{skip:!d.current})),x=f.observable.options.initialFetchPolicy||h.getDefaultFetchPolicy(),v=Object.assign(f,{called:!!d.current}),b=t.useMemo((function(){for(var e={},r=function(r){var a=v[r];e[r]=function(){return d.current||(d.current=Object.create(null),h.forceUpdateState()),a.apply(this,arguments)}},a=0,s=l;a<s.length;a++){r(s[a])}return e}),[]);Object.assign(v,b);var j=t.useCallback((function(e){d.current=e?(0,s.Cl)((0,s.Cl)({},e),{fetchPolicy:e.fetchPolicy||x}):{fetchPolicy:x};var r=(0,n.l)(c.current,(0,s.Cl)({query:u.current},d.current)),a=h.executeQuery((0,s.Cl)((0,s.Cl)({},r),{skip:!1})).then((function(e){return Object.assign(e,b)}));return a.catch((function(){})),a}),[]);return[j,v]}}}]);
//# sourceMappingURL=4.f8360d1c.chunk.js.map
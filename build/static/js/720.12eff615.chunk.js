"use strict";(self.webpackChunkfront_end=self.webpackChunkfront_end||[]).push([[720],{5705:(e,t,n)=>{n.d(t,{A:()=>h});n(5043);var a=n(3536),r=n(8911),i=n(6446),o=n(1656),s=n(6674),l=n(4535),c=n(310),d=n(579);const u=.5,p=(0,l.Ay)(o.zh)((e=>{let{theme:t}=e;return{"& .MuiDataGrid-columnHeader":{backgroundColor:(0,c.X4)(t.palette.primary.main,u)},"& .MuiDataGrid-footerContainer":{backgroundColor:(0,c.X4)(t.palette.primary.main,u)},"& .MuiDataGrid-columnHeaders":{minHeight:0,maxHeight:0},"& .MuiDataGrid-columnHeaderTitle":{overflow:"visible"},"& .MuiDataGrid-cellContent":{whiteSpace:"break-spaces",wordBreak:"break-all"},["& .".concat(s.x.row,".odd")]:{backgroundColor:(0,c.X4)(t.palette.secondary.light,.2),"&:hover, &.Mui-hovered":{backgroundColor:(0,c.X4)(t.palette.primary.main,.2),"@media (hover: none)":{backgroundColor:"transparent"}},"&.Mui-selected":{backgroundColor:(0,c.X4)(t.palette.primary.main,u+t.palette.action.selectedOpacity),"&:hover, &.Mui-hovered":{backgroundColor:(0,c.X4)(t.palette.primary.main,u+t.palette.action.selectedOpacity+t.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:(0,c.X4)(t.palette.primary.main,u+t.palette.action.selectedOpacity)}}}},["& .".concat(s.x.row,".even")]:{backgroundColor:(0,c.X4)(t.palette.secondary.dark,.2),"&:hover, &.Mui-hovered":{backgroundColor:(0,c.X4)(t.palette.primary.main,.2),"@media (hover: none)":{backgroundColor:"transparent"}},"&.Mui-selected":{backgroundColor:(0,c.X4)(t.palette.primary.main,u+t.palette.action.selectedOpacity),"&:hover, &.Mui-hovered":{backgroundColor:(0,c.X4)(t.palette.primary.main,u+t.palette.action.selectedOpacity+t.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:(0,c.X4)(t.palette.primary.main,u+t.palette.action.selectedOpacity)}}}}}})),m=()=>(0,d.jsx)(r.A,{height:"100%",alignItems:"center",justifyContent:"center",children:"No Data Available"}),h=e=>{const{rows:t,columns:n,setSelectedRows:r,css:o={},minHeight:s=130,pageSize:l=10,checkboxSelection:c=!0,hideFooterPagination:u=!1,hideFooter:h=!1,autoHeight:g=!0,...v}=e,x=(0,a.isEmpty)(o)?{minHeight:s}:o;return(0,d.jsx)(i.A,{sx:{...x,width:"100%",display:"flex"},children:(0,d.jsx)(p,{rows:t,columns:n,pageSize:l,autoHeight:g,rowsPerPageOptions:[l],checkboxSelection:c,hideFooter:h,hideFooterPagination:u,disableColumnSelector:!0,disableSelectionOnClick:!0,disableColumnMenu:!0,disableColumnFilter:!0,rowHeight:50,experimentalFeatures:{newEditingApi:!1},components:{NoRowsOverlay:m},getRowClassName:e=>e.indexRelativeToCurrentPage%2===0?"even":"odd",onSelectionModelChange:e=>{const t=new Set(e);r(t)},sx:{"&.MuiDataGrid-virtualScrollerContent--overflowed":{overflow:"visible",width:"100%"},"& .MuiDataGrid-columnHeader:last-child .MuiDataGrid-columnSeparator":{display:"none"}},...v})})}},4103:(e,t,n)=>{n.d(t,{A:()=>c});n(5043);var a=n(5475),r=n(6446),i=n(5865),o=n(1906),s=n(9336),l=n(579);const c=e=>{let{title:t,url:n,buttonTitle:c}=e;return(0,l.jsxs)(r.A,{sx:{width:"100%",mb:2,mt:2},children:[(0,l.jsxs)(r.A,{sx:{display:"flex",flexDirection:"row",justifyContent:"space-between",width:"100%"},children:[(0,l.jsx)(i.A,{variant:"h1",component:"h1",children:t}),c&&(0,l.jsx)(a.N_,{to:n,children:(0,l.jsx)(o.A,{variant:"contained",children:c})})]}),(0,l.jsx)(s.A,{variant:"fullWidth",sx:{width:"100%",mt:1,mb:1,borderBottomWidth:2,borderColor:e=>e.palette.grey[400]}})]})}},5989:(e,t,n)=>{n.d(t,{A:()=>m});n(5043);var a=n(4535),r=n(35),i=n(6600),o=n(5316),s=n(9347),l=n(7392),c=n(4802),d=n(9456),u=n(579);const p=(0,a.Ay)(r.A)((e=>{let{theme:t}=e;return{"& .MuiDialogContent-root":{padding:t.spacing(2)},"& .MuiDialogActions-root":{padding:t.spacing(1)}}})),m=()=>{const e=(0,d.d4)((e=>e.modal)),{isOpen:t=!1,title:n="",hasClosedIcon:a=!0,handleClose:r=(()=>{}),bodyContent:m="",modalActions:h=""}=e;return(0,u.jsxs)(p,{onClose:r,"aria-labelledby":"customized-dialog-title",open:t,children:[(0,u.jsx)(i.A,{sx:{m:0,p:2},id:"customized-dialog-title",children:n}),a&&(0,u.jsx)(l.A,{"aria-label":"close",onClick:r,sx:{position:"absolute",right:8,top:8,color:e=>e.palette.grey[500]},children:(0,u.jsx)(c.A,{})}),(0,u.jsx)(o.A,{dividers:!0,sx:{minWidth:"350px"},children:m}),(0,u.jsx)(s.A,{children:h})]})}},1720:(e,t,n)=>{n.r(t),n.d(t,{default:()=>P});var a=n(5043),r=n(6410),i=n(1881),o=n(5865),s=n(1906),l=n(8903),c=n(9456),d=n(2671),u=n(4103),p=n(5475),m=n(6446),h=n(7260),g=n(3513),v=n(3159),x=n(1045),f=n(8911),y=n(9042),A=n(7254),b=n(7343),C=n(5989),w=n(5705),j=n(579);const k=e=>{let{rows:t,severity:n,message:a,paginationModel:r,updateStatus:i,onDeleteHandler:o}=e;const s=[{field:"id",headerName:"Job No",minWidth:80,flex:1,filterable:!1,editable:!1},{field:"profile_pic",headerName:"Profile",type:"actions",minWidth:80,flex:1,getActions:e=>{const{profile_pic:t,name:n}=e.row;if(t){const e="".concat("https://alamanco.com/isce","/images/profile/").concat(t);return[(0,j.jsx)(x.A,{alt:n,src:e,sx:{width:56,height:56}})]}return[(0,j.jsx)(x.A,{children:n[0].toUpperCase()})]}},{field:"name",headerName:"Name",minWidth:100,flex:1},{field:"iqama_number",headerName:"Iqama number",minWidth:140,flex:1},{field:"issue_date",headerName:"Issue date",minWidth:120,flex:1,valueFormatter:e=>(0,b.Yq)(e.value)},{field:"expiry_date",headerName:"Expire date",minWidth:120,flex:1,valueFormatter:e=>(0,b.Yq)(e.value)},{field:"certified_as",headerName:"Certified As",minWidth:150,flex:1},{field:"status",type:"status",headerName:"Status(In-Active/Active)",minWidth:180,flex:1,renderCell:e=>{const{value:t,id:n,row:{action:{changeStatus:a}}}=e,r="INACTIVE"!==t;return(0,j.jsx)(f.A,{direction:"row",spacing:1,alignItems:"center",children:(0,j.jsx)(y.A,{inputProps:{"aria-label":"Switch status"},checked:r,onChange:()=>i(n),disabled:!a})})}},{field:"action",type:"actions",headerName:"Action",minWidth:120,flex:1,getActions:e=>{var t;const n=[],{view:a,edit:r,remove:i}=null===(t=e.row)||void 0===t?void 0:t.action;return a&&n.push((0,j.jsx)("a",{href:"/cards/view/".concat(e.row._id),target:"__blank",children:(0,j.jsx)(h.A,{sx:{fontSize:25}})})),r&&n.push((0,j.jsx)(p.N_,{to:"/cards/edit/".concat(e.row._id),children:(0,j.jsx)(v.A,{sx:{fontSize:25}})})),i&&n.push((0,j.jsx)(g.A,{fontSize:"medium",onClick:()=>o(e.row._id)})),n}}];return(0,j.jsxs)(j.Fragment,{children:[(0,j.jsxs)(m.A,{sx:{height:400,width:"100%"},children:[(0,j.jsx)(l.Ay,{container:!0,spacing:2,children:n&&a&&(0,j.jsx)(l.Ay,{item:!0,xs:12,children:(0,j.jsx)(A.A,{variant:"standard",severity:n,sx:{width:"100%",mt:1},children:a})})}),(0,j.jsx)(w.A,{rows:t,columns:s,initialState:{pagination:{paginationModel:r}},pageSizeOptions:[10],checkboxSelection:!1,disableRowSelectionOnClick:!1})]}),(0,j.jsx)(C.A,{})]})};k.defaultProps={rows:[],paginationModel:{pageSize:10},pageSizeOptions:10,updateStatus:()=>{},onDeleteHandler:()=>{}};const S=k;var I=n(7767),M=n(2010),$=n(9351);const P=()=>{const e=(0,c.wA)(),[t,n]=a.useState(""),[p,m]=a.useState(""),[h,g]=a.useState([]),[v,{loading:x,data:f,error:y}]=(0,r._)(M.ox),[A,{loading:b,error:C,data:w}]=(0,i.n)($.xt),[k,{loading:P,error:D,data:z}]=(0,i.n)($.rF);a.useEffect((()=>{if(!x&&f&&!y){const{response:e}=f.cardList;g(e)}}),[x,f,y,g]);const N=a.useCallback((()=>v()),[v]);a.useEffect((()=>{N()}),[N]),a.useEffect((()=>{if(!b&&!C&&w){const t=w.changeCardStatus;n(t.severity),m(t.message),t.hasError||N(),e((0,I.Mj)())}}),[b,C,w,e,n,m,N]);a.useEffect((()=>{if(!P&&!D&&z){const t=z.removeCard;n(t.severity),m(t.message),t.hasError||N(),e((0,I.Mj)())}}),[P,D,z,e,n,m,N]);const O=()=>{e((0,I.Mj)())},_=()=>(0,j.jsx)(o.A,{gutterBottom:!0,children:(0,j.jsx)(o.A,{children:"Are you want to sure?"})}),F=e=>{let{_id:t}=e;return(0,j.jsxs)(j.Fragment,{children:[" ",(0,j.jsx)(s.A,{autoFocus:!0,onClick:()=>(e=>{k({variables:{input:{_id:e}}})})(t),children:"Confirm"}),(0,j.jsx)(s.A,{onClick:()=>O(),children:"Cancel"})]})},E={rows:h,severity:t,message:p,onDeleteHandler:t=>{e((0,I.qS)({isOpen:!0,title:"Delete Card",hasClosedIcon:!0,handleClose:O,bodyContent:(0,j.jsx)(_,{}),modalActions:(0,j.jsx)(F,{_id:t})}))},paginationModel:{pageSize:"10"},pageSizeOptions:"10",updateStatus:e=>{A({variables:{input:{id:parseInt(e)}}})}};return(0,j.jsxs)(j.Fragment,{children:[(0,j.jsx)(l.Ay,{container:!0,spacing:2,sx:{display:"flex",flexDirection:"row",justifyContent:"space-between",alignItems:"center"},children:(0,j.jsx)(u.A,{title:"Card List",buttonTitle:"Create Card",url:"/cards/create"})}),x&&!f?(0,j.jsx)(d.A,{}):(0,j.jsx)(S,{...E})]})}},9351:(e,t,n)=>{n.d(t,{G6:()=>w,Hx:()=>y,Tx:()=>C,Ur:()=>b,Zs:()=>j,ab:()=>P,iO:()=>M,lj:()=>$,ox:()=>A,rF:()=>D,tz:()=>S,xt:()=>I,yJ:()=>z,y_:()=>k});var a,r,i,o,s,l,c,d,u,p,m,h,g,v,x=n(7528),f=n(459);const y=(0,f.J1)(a||(a=(0,x.A)(["\n  mutation signup($input: signupInput!) {\n    signup(input: $input) {\n      error {\n        key\n        value\n      }\n      message\n      severity\n    }\n  }\n"]))),A=(0,f.J1)(r||(r=(0,x.A)(["\n  mutation changeStatus($input: idInput!) {\n    changeStatus(input: $input) {\n      hasError\n      message\n      severity\n    }\n  }\n"]))),b=(0,f.J1)(i||(i=(0,x.A)(["\n  mutation removeUser($input: idInput!) {\n    removeUser(input: $input) {\n      hasError\n      message\n      severity\n    }\n  }\n"]))),C=(0,f.J1)(o||(o=(0,x.A)(["\n  mutation createInvoice($input: invoiceInput!) {\n    createInvoice(input: $input) {\n      error {\n        key\n        value\n      }\n      message\n      severity\n    }\n  }\n"]))),w=(0,f.J1)(s||(s=(0,x.A)(["\n  mutation updateInvoice($input: invoiceInput!) {\n    updateInvoice(input: $input) {\n      error {\n        key\n        value\n      }\n      message\n      severity\n    }\n  }\n"]))),j=(0,f.J1)(l||(l=(0,x.A)(["\n  mutation setPassword($input: setPasswordInput!) {\n    setPassword(input: $input) {\n      error {\n        key\n        value\n      }\n      message\n      severity\n    }\n  }\n"]))),k=(0,f.J1)(c||(c=(0,x.A)(["\n  mutation createCard($input: cardInput!) {\n    createCard(input: $input) {\n      error {\n        key\n        value\n      }\n      message\n      severity\n    }\n  }\n"]))),S=(0,f.J1)(d||(d=(0,x.A)(["\n  mutation updateCard($input: cardInput!) {\n    updateCard(input: $input) {\n      error {\n        key\n        value\n      }\n      message\n      severity\n    }\n  }\n"]))),I=(0,f.J1)(u||(u=(0,x.A)(["\n  mutation changeCardStatus($input: idInput!) {\n    changeCardStatus(input: $input) {\n      hasError\n      message\n      severity\n    }\n  }\n"]))),M=(0,f.J1)(p||(p=(0,x.A)(["\n  mutation changeInvoiceStatus($input: idInput!) {\n    changeInvoiceStatus(input: $input) {\n      hasError\n      message\n      severity\n    }\n  }\n"]))),$=(0,f.J1)(m||(m=(0,x.A)(["\n  mutation changePassword($input: changePasswordInput!) {\n    changePassword(input: $input) {\n      error {\n        key\n        value\n      }\n      message\n      severity\n    }\n  }\n"]))),P=(0,f.J1)(h||(h=(0,x.A)(["\n  mutation updateProfile($input: updateProfileInput!) {\n    updateProfile(input: $input) {\n      error {\n        key\n        value\n      }\n      message\n      severity\n    }\n  }\n"]))),D=(0,f.J1)(g||(g=(0,x.A)(["\n  mutation removeCard($input: objIdInput!) {\n    removeCard(input: $input) {\n      hasError\n      message\n      severity\n    }\n  }\n"]))),z=(0,f.J1)(v||(v=(0,x.A)(["\n  mutation removeInvoice($input: objIdInput!) {\n    removeInvoice(input: $input) {\n      hasError\n      message\n      severity\n    }\n  }\n"])))},3159:(e,t,n)=>{var a=n(4994);t.A=void 0;var r=a(n(39)),i=n(579);t.A=(0,r.default)((0,i.jsx)("path",{d:"M3 17.25V21h3.75L17.81 9.94l-3.75-3.75zM20.71 7.04c.39-.39.39-1.02 0-1.41l-2.34-2.34a.9959.9959 0 0 0-1.41 0l-1.83 1.83 3.75 3.75z"}),"Edit")},1045:(e,t,n)=>{n.d(t,{A:()=>C});var a=n(8587),r=n(8168),i=n(5043),o=n(8387),s=n(8606),l=n(4350),c=n(4535),d=n(9662),u=n(579);const p=(0,d.A)((0,u.jsx)("path",{d:"M12 12c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm0 2c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4z"}),"Person");var m=n(7056),h=n(2400);function g(e){return(0,h.Ay)("MuiAvatar",e)}(0,m.A)("MuiAvatar",["root","colorDefault","circular","rounded","square","img","fallback"]);var v=n(4162);const x=["alt","children","className","component","slots","slotProps","imgProps","sizes","src","srcSet","variant"],f=(0,l.h)("MuiAvatar"),y=(0,c.Ay)("div",{name:"MuiAvatar",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,t[n.variant],n.colorDefault&&t.colorDefault]}})((e=>{let{theme:t}=e;return{position:"relative",display:"flex",alignItems:"center",justifyContent:"center",flexShrink:0,width:40,height:40,fontFamily:t.typography.fontFamily,fontSize:t.typography.pxToRem(20),lineHeight:1,borderRadius:"50%",overflow:"hidden",userSelect:"none",variants:[{props:{variant:"rounded"},style:{borderRadius:(t.vars||t).shape.borderRadius}},{props:{variant:"square"},style:{borderRadius:0}},{props:{colorDefault:!0},style:(0,r.A)({color:(t.vars||t).palette.background.default},t.vars?{backgroundColor:t.vars.palette.Avatar.defaultBg}:(0,r.A)({backgroundColor:t.palette.grey[400]},t.applyStyles("dark",{backgroundColor:t.palette.grey[600]})))}]}})),A=(0,c.Ay)("img",{name:"MuiAvatar",slot:"Img",overridesResolver:(e,t)=>t.img})({width:"100%",height:"100%",textAlign:"center",objectFit:"cover",color:"transparent",textIndent:1e4}),b=(0,c.Ay)(p,{name:"MuiAvatar",slot:"Fallback",overridesResolver:(e,t)=>t.fallback})({width:"75%",height:"75%"});const C=i.forwardRef((function(e,t){const n=f({props:e,name:"MuiAvatar"}),{alt:l,children:c,className:d,component:p="div",slots:m={},slotProps:h={},imgProps:C,sizes:w,src:j,srcSet:k,variant:S="circular"}=n,I=(0,a.A)(n,x);let M=null;const $=function(e){let{crossOrigin:t,referrerPolicy:n,src:a,srcSet:r}=e;const[o,s]=i.useState(!1);return i.useEffect((()=>{if(!a&&!r)return;s(!1);let e=!0;const i=new Image;return i.onload=()=>{e&&s("loaded")},i.onerror=()=>{e&&s("error")},i.crossOrigin=t,i.referrerPolicy=n,i.src=a,r&&(i.srcset=r),()=>{e=!1}}),[t,n,a,r]),o}((0,r.A)({},C,{src:j,srcSet:k})),P=j||k,D=P&&"error"!==$,z=(0,r.A)({},n,{colorDefault:!D,component:p,variant:S}),N=(e=>{const{classes:t,variant:n,colorDefault:a}=e,r={root:["root",n,a&&"colorDefault"],img:["img"],fallback:["fallback"]};return(0,s.A)(r,g,t)})(z),[O,_]=(0,v.A)("img",{className:N.img,elementType:A,externalForwardedProps:{slots:m,slotProps:{img:(0,r.A)({},C,h.img)}},additionalProps:{alt:l,src:j,srcSet:k,sizes:w},ownerState:z});return M=D?(0,u.jsx)(O,(0,r.A)({},_)):c||0===c?c:P&&l?l[0]:(0,u.jsx)(b,{ownerState:z,className:N.fallback}),(0,u.jsx)(y,(0,r.A)({as:p,ownerState:z,className:(0,o.A)(N.root,d),ref:t},I,{children:M}))}))}}]);
//# sourceMappingURL=720.12eff615.chunk.js.map